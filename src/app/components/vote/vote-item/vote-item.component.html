<div
  class="score"
  *ngIf="voteService.counts[beer.id.toString()]">
    <span *ngIf="!voteService.scores[beer.id] || voteService.scores[beer.id] === 0">-</span>
    <span *ngIf="voteService.scores[beer.id] !== 0">
      {{ voteService.scores[beer.id] > 0 ? '+' : null }}{{ voteService.scores[beer.id] }}
    </span>
    <span class="total-votes-divider ml-1 mr-1 grey-text">/</span>
    <span
      class="total-votes grey-text"
      *ngIf="voteService.counts[beer.id]">{{ voteService.counts[beer.id] }}</span>
</div>
<div
  class="score-card-trigger"
  *ngIf="isLoggedIn && voteService.voters[beer.id.toString()].length">
  <span class="label">See Votes</span>
</div>
<ul
  class="score-card"
  *ngIf="isLoggedIn && voteService.voters[beer.id.toString()].length">
  <li *ngFor="let voter of voteService.voters[beer.id]">
    {{ voter.name }}
    <i
      class="fa fa-thumbs-up text-success ml-1 mr-2"
      *ngIf="voter.vote"></i>
    <i
      class="fa fa-thumbs-down text-danger ml-1 mr-2"
      *ngIf="!voter.vote"></i>
  </li>
</ul>
<div
  class="score no-votes"
  *ngIf="!voteService.counts[beer.id.toString()]">-</div>
<div class="image text-center">
  <img
    [class.default]="!beer.image"
    [src]="beer.image || '/assets/img/bottle.png'">
</div>
<div class="info">
  <h6 class="title m-0 mb-lg-2">{{ beer.title }}</h6>
  <p class="m-0">
    <small>{{ beer.description }}</small>
  </p>
</div>
<div
  class="vote"
  *ngIf="isLoggedIn && !voteService.isLoading; else isStatic">
  <div class="vote-wrapper">
    <div
      class="levers"
      [class.disabled]="voteService.userVoteCount === voteService.userVoteMax"
      *ngIf="voteService.polls[beer.id] && !voteService.polls[beer.id][uid]">
      <i
        class="fa fa-thumbs-up text-success"
        (click)="castVote(beer.id, true)"></i>
      <i
        class="fa fa-thumbs-down text-danger"
        (click)="castVote(beer.id, false)"></i>
    </div>
    <div
      class="undo"
      [class.up-vote]="voteService.polls[beer.id][uid].vote"
      [class.down-vote]="voteService.polls[beer.id][uid].vote === false"
      (click)="undoVote(beer.id)"
      *ngIf="voteService.polls[beer.id] && voteService.polls[beer.id][uid]">
        <span class="label">Undo</span>
        <i
          class="fa fa-thumbs-up"
          *ngIf="voteService.polls[beer.id][uid].vote === true"></i>
        <i
          class="fa fa-thumbs-down"
          *ngIf="voteService.polls[beer.id][uid].vote === false"></i>
    </div>
  </div>
</div>
<ng-template #isStatic>
  <div class="vote disabled grey-text">
    <div class="levers">
      <i class="fa fa-thumbs-up"></i>
      <i class="fa fa-thumbs-down"></i>
    </div>
  </div>
</ng-template>
<div class="vote-menu-bg"></div>
